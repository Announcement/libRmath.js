//http://stat.ethz.ch/R-manual/R-patched/library/stats/html/Exponential.html

//
const libR = require('../dist/lib/libR.js');
const {
    Exponential,
    rng: { MersenneTwister }
} = libR;

const { arrayrify, seq: seqCreate } = libR.R;
const log = arrayrify(Math.log);
const seq = seqCreate()();

const mt = new MersenneTwister(0);

const exp1 = Exponential(mt);
const expDefault = Exponential();

const { dexp, pexp, qexp, rexp } = exp1;

//1
dexp(seq(0, 0.3, 0.05), 3);
/*
[ 3,
  2.5821239292751734,
  2.2224546620451533,
  1.9128844548653197,
  1.6464349082820793,
  1.4170996582230442,
  1.2197089792217974 
]
*/

//2.
dexp(seq(0, 0.3, 0.05), 3, true);
/*
    [ 1.0986122886681098,
        0.9486122886681098,
        0.7986122886681097,
        0.6486122886681097,
        0.4986122886681097,
        0.3486122886681098,
        0.19861228866810976 ]
*/

//3
dexp(seq(0, 10, 2), 0.2);
/*
[ 0.2,
    0.13406400920712785,
    0.08986579282344431,
    0.06023884238244041,
    0.04037930359893108,
    0.027067056647322542 ]
*/

//1
pexp(seq(0, 0.3, 0.05), 3);
/*[ 0,
  0.13929202357494222,
  0.2591817793182822,
  0.3623718483782268,
  0.4511883639059736,
  0.5276334472589853,
  0.5934303402594009 ]
*/

//2
pexp(seq(0, 0.3, 0.05), 3, true);
/*[ 0,
  0.13929202357494222,
  0.2591817793182822,
  0.3623718483782268,
  0.4511883639059736,
  0.5276334472589853,
  0.5934303402594009 ]
*/

//3
pexp(seq(0, 10, 2), 0.2);
/*[ 0,
  0.32967995396436073,
  0.5506710358827784,
  0.6988057880877979,
  0.7981034820053446,
  0.8646647167633873 ]
  */

//1
qexp(log(pexp(seq(0, 10, 2), 0.2)), 0.2, true, true);
//[ 0, 2, 4, 6.000000000000001, 8.000000000000002, 10 ]


//2
qexp(pexp(seq(0, 10, 2), 0.2), 0.2);
//[ 0, 2, 4, 6.000000000000001, 8.000000000000002, 10 ]

//3
qexp(pexp(seq(0, 0.3, 0.05), 3, true), 3, true);
// [1] 0.00 0.05 0.10 0.15 0.20 0.25 0.30


mt.init(1234);
//1
rexp(5);
/*[ 2.501758604962226,
  0.24675888335332274,
  0.00658195674547719,
  1.742746089841709,
  0.38718258356675506 ]
*/

//2
rexp(5, 0.1);
/*[ 0.8994967117905617,
  8.240815149200083,
  2.0261790050608974,
  8.380403192293764,
  7.604303005662682 ]
*/

//3
rexp(5, 3);
/*[ 0.6266922261285862,
  0.5320351392051192,
  0.5528874614306372,
  1.0174860332842828,
  0.5835600444988374 ]
*/

/*
//1 R
>  dexp(seq(0,0.3,0.05),3)
[1] 3.000000 2.582124 2.222455 1.912884
[5] 1.646435 1.417100 1.219709

//2
>  dexp(seq(0,0.3,0.05),3, TRUE)
[1] 1.0986123 0.9486123 0.7986123
[4] 0.6486123 0.4986123 0.3486123
[7] 0.1986123

//3
> dexp(seq(0,10,2),0.2)
[1] 0.20000000 0.13406401 0.08986579
[4] 0.06023884 0.04037930 0.02706706

//1
> pexp(seq(0,0.3,0.05),3)
[1] 0.0000000 0.1392920 0.2591818
[4] 0.3623718 0.4511884 0.5276334
[7] 0.5934303

//2
> pexp(seq(0,0.3,0.05),3, TRUE)
[1] 0.0000000 0.1392920 0.2591818
[4] 0.3623718 0.4511884 0.5276334
[7] 0.5934303

//3
> pexp(seq(0,10,2),0.2)
[1] 0.0000000 0.3296800 0.5506710
[4] 0.6988058 0.7981035 0.8646647

//1
> qexp(log(pexp(seq(0,10,2),0.2)),0.2, TRUE, TRUE)
[1]  0  2  4  6  8 10

//2
> qexp(pexp(seq(0,10,2),0.2),0.2)
[1]  0  2  4  6  8 10

//3
> qexp(pexp(seq(0,0.3,0.05),3, TRUE),3, TRUE)
[1] 0.00 0.05 0.10 0.15 0.20 0.25 0.30

RNGkind("Mersenne-Twister")
set.seed(1234)
//1.
> rexp(5)
[1] 2.501758605 0.246758883 0.006581957
[4] 1.742746090 0.387182584

//2.
> rexp(5,0.1)
[1] 0.8994967 8.2408151 2.0261790 8.3804032
[5] 7.6043030

//3.
> rexp(5,3)
[1] 0.6266922 0.5320351 0.5528875 1.0174860
[5] 0.5835600
*/